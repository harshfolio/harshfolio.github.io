{{- /* Performance optimizations for head section */ -}} {{- /* Preconnect for Google Fonts */ -}}
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Inter:wght@400&family=Plus+Jakarta+Sans:wght@500;600;700&display=swap"
  rel="stylesheet"
/>

<style>
  /* Critical layout CSS only - variables are in custom.css */
  body {
    margin: 0;
  }
  /* Ensure skip link stays off-screen until focused to avoid FOUC */
  .skip-to-main {
    position: absolute;
    left: -9999px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
  }
  .skip-to-main:focus {
    left: 0;
    top: 0;
    width: auto;
    height: auto;
    padding: 8px 12px;
    background: #007bff;
    color: #fff;
    z-index: 1000;
  }
</style>

{{- /* Resource hints for external resources */ -}} {{ if .Params.math }}
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin />
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net" />
<link
  rel="preload"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
  as="style"
/>
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
  integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
  integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    renderMathInElement(document.body, {
      delimiters: [
        { left: '$$', right: '$$', display: true },
        { left: '$', right: '$', display: false },
        { left: '\\[', right: '\\]', display: true },
        { left: '\\(', right: '\\)', display: false },
      ],
      throwOnError: false,
    })
  })
</script>
{{ end }} {{- /* JSON-LD structured data */ -}} {{- $author := (site.Params.author | default
site.Title) -}} {{- $image := "/images/harsh-sharma.jpeg" | absURL -}} {{- if .IsHome -}} {{-
$sameAs := slice -}} {{- range site.Params.socialIcons -}} {{- $sameAs = $sameAs | append .url -}}
{{- end -}} {{- $person := dict "@context" "https://schema.org" "@type" "Person" "name" $author
"url" site.BaseURL "image" $image "sameAs" $sameAs -}}
<script type="application/ld+json">
  {{ $person | jsonify }}
</script>
{{- else if .IsPage -}} {{- $desc := .Description -}} {{- if not $desc }}{{- $desc = .Summary -}}{{-
end -}} {{- $post := dict "@context" "https://schema.org" "@type" "BlogPosting" "mainEntityOfPage"
(dict "@type" "WebPage" "@id" .Permalink) "headline" .Title "description" ($desc | plainify)
"datePublished" (.Date.Format "2006-01-02T15:04:05Z07:00") "dateModified" (.Lastmod.Format
"2006-01-02T15:04:05Z07:00") "author" (dict "@type" "Person" "name" $author) "publisher" (dict
"@type" "Person" "name" $author) "image" $image -}}
<script type="application/ld+json">
  {{ $post | jsonify }}
</script>
{{- end -}}
