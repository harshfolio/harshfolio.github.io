{{- define "main" }}

<article class="home-page">
  {{- if .Content }}
  <div class="home-content">
    {{ .Content }}
  </div>
  {{- end }}

  <section class="published-posts">
    <h2>Writing</h2>
    <div class="posts-list">
      {{- range where site.RegularPages "Type" "in" site.Params.mainSections }}
      <a href="{{ .RelPermalink }}" class="post-entry-link">
        <article class="post-entry">
          <header class="entry-header">
            <h3>{{ .Title }}</h3>
          </header>
          {{- if .Description }}
          <div class="entry-content">
            <p>{{ .Description }}</p>
          </div>
          {{- end }}
          <footer class="entry-footer">
            <span class="post-meta">
              <time>{{ .Date.Format "January 2, 2006" }}</time>
              {{- if .ReadingTime }}
              <span> Â· {{ .ReadingTime }} min read</span>
              {{- end }}
            </span>
            {{- if .Params.tags }}
            <div class="post-tags">
              {{- range .Params.tags }}
              <span class="tag">{{ . }}</span>
              {{- end }}
            </div>
            {{- end }}
          </footer>
        </article>
      </a>
      {{- end }}
    </div>
  </section>
</article>

{{- partial "easter-egg.html" . }}

{{- end }}
